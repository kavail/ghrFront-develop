<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <h1 class='h-detail'>Área de cliente</h1>
    </div>
  </div>
  <div class="row">
    <div class="col-md-7">
      <h2>Datos personales</h2>
    <form name="formulario">
        <div class="formulario">
          <!-- primera fila -->
            <div class="form-group col-md-2 col-sm-3 col-xs-12 container-fluid formulario-et">
                <label for="ID">ID: </label>
                <input ng-if="$ctrl.mode === 'edit'" disabled class="form-control" name="id" ng-model="$ctrl.candidato.id">
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.id}}</span>
            </div>
            <div class="form-group col-md-3 col-sm-3 col-xs-12" ng-class="{ 'has-error' : formulario.nombre.$invalid && !formulario.nombre.$pristine, 'has-success': !formulario.nombre.$focused && formulario.nombre.$valid}">
                <label for="nombre">Nombre<span ng-if="$ctrl.mode === 'edit'" class="glyphicon glyphicon-asterisk"></span>:</label>
                <input ng-if="$ctrl.mode === 'edit'" id="inputSuccess2" class="form-control has-success" name="nombre" required autofocus pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚüÜ. ]{0,}" aria-describedby="helpBlock2" ng-model="$ctrl.candidato.nombre" ng-focus="focus=true" ng-blur="focus=false">
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.nombre}}</span>
            </div>
            <div class="form-group col-md-3 col-sm-5 col-xs-12" ng-class="{ 'has-error' : formulario.apellido.$invalid && !formulario.apellido.$pristine, 'has-success': !formulario.apellido.$focused && formulario.apellido.$valid}">
                <label for="apellido">Apellido:</label>
                <input ng-if="$ctrl.mode === 'edit'" id="inputSuccess2" class="form-control has-success" name="apellido" pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚüÜ. ]{0,}" aria-describedby="helpBlock2" ng-model="$ctrl.candidato.apellido" ng-focus="focus=true" ng-blur="focus=false">
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.apellido}}</span>
            </div>
            <div class="form-group col-md-2 col-sm-3 col-xs-12" ng-class="{ 'has-error' : formulario.perfil.$invalid && !formulario.perfil.$pristine, 'has-success': !formulario.perfil.$focused && formulario.perfil.$valid}">
                <label for="perfil">Fecha nacimiento<span ng-if="$ctrl.mode === 'edit'" class="glyphicon glyphicon-asterisk"></span>: </label>
                <input ng-if="$ctrl.mode === 'edit'" class="form-control" type="date" name="fecha_entrevista" ng-model="$ctrl.candidato.fecha_entrevista">
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.fecha_entrevista | date : shortDate}}</span>
            </div>
            <div class="form-group col-md-2 col-sm-3 col-xs-12" ng-class="{ 'has-error' : formulario.perfil.$invalid && !formulario.perfil.$pristine, 'has-success': !formulario.perfil.$focused && formulario.perfil.$valid}">
                <label for="perfil">Fecha registro<span ng-if="$ctrl.mode === 'edit'" class="glyphicon glyphicon-asterisk"></span>: </label>
                <input ng-if="$ctrl.mode === 'edit'" class="form-control" type="date" name="fecha_entrevista" ng-model="$ctrl.candidato.fecha_entrevista">
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.fecha_entrevista | date : shortDate}}</span>
            </div>
            <!-- segunda fila -->
            <div class="form-group col-md-2 col-sm-3 col-xs-6 formulario-et" ng-class="{ 'has-error' : formulario.experiencia.$invalid && !formulario.experiencia.$pristine, 'has-success': !formulario.experiencia.$focused && formulario.experiencia.$valid}">
                <label for="experiencia">Local<span ng-if="$ctrl.mode === 'edit'" class="glyphicon glyphicon-asterisk"></span>: </label>
                <input ng-if="$ctrl.mode === 'edit'" required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚüÜ. 0-9]{0,}" class="form-control" name="experiencia" ng-model="$ctrl.candidato.experiencia" aria-describedby="helpBlock2">
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.experiencia}}</span>
            </div>
            <div class="form-group col-md-6 col-sm-4 col-xs-12 ">
                <label for="estado">Dirección: </label>
                <br>
                <div ng-if="$ctrl.mode === 'edit'" class="btn-group" uib-dropdown>
                    <button type="button" class="btn btn-default" uib-dropdown-toggle>
                        {{$ctrl.candidato.estado || $ctrl.opcionesDesplegable[0].estado}} <span class="caret"></span>
                        <span class="sr-only">Split button!</span>
                    </button>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                        <li role="menuitem" ng-repeat="opcion in $ctrl.opcionesDesplegable" value="{{opcion.estado}}" ng-selected="$ctrl.candidato.estado === opcion.estado">
                            <a href="#" ng-click="$ctrl.candidato.estado = opcion.estado; $ctrl.setDirty(formulario, formulario.estado)">{{opcion.estado}}</a>
                        </li>
                        <input ng-hide="true" name="estado" ng-model="$ctrl.candidato.estado">
                    </ul>
                </div>
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.estado}}</span>
            </div>
            <div class="form-group col-md-2 col-sm-3 col-xs-6" ng-class="{ 'has-error' : formulario.experiencia.$invalid && !formulario.experiencia.$pristine, 'has-success': !formulario.experiencia.$focused && formulario.experiencia.$valid}">
                <label for="experiencia">Código Postal<span ng-if="$ctrl.mode === 'edit'" class="glyphicon glyphicon-asterisk"></span>: </label>
                <input ng-if="$ctrl.mode === 'edit'" required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚüÜ. 0-9]{0,}" class="form-control" name="experiencia" ng-model="$ctrl.candidato.experiencia" aria-describedby="helpBlock2">
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.experiencia}}</span>
            </div>
            <div class="form-group col-md-2 col-sm-3 col-xs-6" ng-class="{ 'has-error' : formulario.provincia.$invalid && !formulario.provincia.$pristine, 'has-success': !formulario.provincia.$focused && formulario.provincia.$valid}">
                <label for="provincia">Provincia<span ng-if="$ctrl.mode === 'edit'" class="glyphicon glyphicon-asterisk"></span>:</label>
                <input ng-if="$ctrl.mode === 'edit'" required pattern="[a-zA-ZñÑáéíóúÁÉÍÓÚüÜ. ]{0,}" class="form-control" name="provincia" ng-model="$ctrl.candidato.provincia" aria-describedby="helpBlock2">
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.provincia}}</span>
            </div>

            <!--tercera fila
            <div class="form-group col-md-3 col-sm-4 col-xs-12 ">
                <label for="estado">Tipo </label>
                <br>
                <div ng-if="$ctrl.mode === 'edit'" class="btn-group" uib-dropdown>
                    <button type="button" class="btn btn-default" uib-dropdown-toggle>
                        {{$ctrl.candidato.estado || $ctrl.opcionesDesplegable[0].estado}} <span class="caret"></span>
                        <span class="sr-only">Split button!</span>
                    </button>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                        <li role="menuitem" ng-repeat="opcion in $ctrl.opcionesDesplegable" value="{{opcion.estado}}" ng-selected="$ctrl.candidato.estado === opcion.estado">
                            <a href="#" ng-click="$ctrl.candidato.estado = opcion.estado; $ctrl.setDirty(formulario, formulario.estado)">{{opcion.estado}}</a>
                        </li>
                        <input ng-hide="true" name="estado" ng-model="$ctrl.candidato.estado">
                    </ul>
                </div>
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.estado}}</span>
            </div>
            <div class="form-group col-md-9 col-sm-4 col-xs-12 ">
                <label for="estado">Datos bancarios: </label>
                <br>
                <div ng-if="$ctrl.mode === 'edit'" class="btn-group" uib-dropdown>
                    <button type="button" class="btn btn-default" uib-dropdown-toggle>
                        {{$ctrl.candidato.estado || $ctrl.opcionesDesplegable[0].estado}} <span class="caret"></span>
                        <span class="sr-only">Split button!</span>
                    </button>
                    <ul class="dropdown-menu" uib-dropdown-menu role="menu" aria-labelledby="split-button">
                        <li role="menuitem" ng-repeat="opcion in $ctrl.opcionesDesplegable" value="{{opcion.estado}}" ng-selected="$ctrl.candidato.estado === opcion.estado">
                            <a href="#" ng-click="$ctrl.candidato.estado = opcion.estado; $ctrl.setDirty(formulario, formulario.estado)">{{opcion.estado}}</a>
                        </li>
                        <input ng-hide="true" name="estado" ng-model="$ctrl.candidato.estado">
                    </ul>
                </div>
                <span ng-if="$ctrl.mode === 'view'" class="form-control">{{$ctrl.candidato.estado}}</span>
            </div>
             -->
            <!-- hasta aquí -->

        </div>
    </form>
  </div>
<div class="col-md-5">
    <div class="form-group col-md-12 col-sm-12 col-xs-12">
        <form name="formRequisitos">
            <ghr-requisitos></ghr-requisitos>
        </form>
    </div>
</div>
<div class="col-md-7">
  <!-- contacto -->
    <div class="form-group col-md-12 col-sm-12 col-xs-12">
        <form name="formContacto">
            <ghr-contactos></ghr-contactos>
        </form>
    </div>

</div>

    <div class="row">

        <div class="botonera" >
            <div ng-if="$ctrl.mode==='edit'" class="col-md-8"></div>
            <div ng-if="$ctrl.mode==='edit'" class="col-md-2 col-sm-5 col-xs-6 form-group">
                <button type="button" ng-click="$ctrl.reset()" value="Descartar cambios" class="reset btn btn-default ">
                    Descartar Cambios <span class ="glyphicon glyphicon-remove"></span>
                </button>
            </div>
            <div ng-if="$ctrl.mode === 'edit'" class="col-md-2 col-sm-5 col-xs-6 form-group">
                <button type="submit" ng-click="$ctrl.updateOrCreate($ctrl.candidato,formulario,formContacto,formRequisitos, $ctrl.nombreRequisito, $ctrl.nivelRequisito)" ng-disabled="formulario.$invalid" class="submit btn btn-primary">
                    Guardar <span class="glyphicon glyphicon-send"></span>
                </button>
            </div>
          </div>
          <div ng-if="$ctrl.mode === 'view'" class="col-md-offset-11">
            <button  type="submit" ng-click="$ctrl.changeMode()" ng-disabled="formulario.$invalid || formContacto.$invalid || formRequisitos.$invalid" class="submit btn btn-primary">
              Editar&nbsp;&nbsp; <span class="glyphicon glyphicon-pencil"></span></button>
          </div>
    </div>
</div>
<br ng-if="$ctrl.mode==='view'">
